# Тестирование

## Какие есть тесты?

Если вам кто-нибудь скажет, что можно написать хороший масштабный проект без тестов, то я рекомендую ударить этого человека кадилом по лицу (ну или как минимум провести ритуал изгнания [бесов](https://www.theworldsworstwebsiteever.com)).

Тестирование абсолютно необходимо для создания качественного надежного ПО, в чем абсолютно убеждено абсолютное большинство программистов с большим стажем.

Существует несколько градаций, в которых могут выделять от двух до x уровней тестирования, например:

1. Unit testing
1. Integration testing
1. System testing

Разделение тестов по уровням позволяет проверять работоспособность ПО в рамках различных окружений и на различных уровнях абстракии. Unit тесты позволяет проверить наименьшие составные части программы - отдельные функции и классы. Integration тесты должны выявлять проблемы на уровне внешних АПИ определенных компонентов. System тесты - это наборы тестов которые проверят определенное приложение со всеми взаимосвязями (бд, апи, инфраструктура, и тд) как единое целое.

---

## Делаем unit-тест

Unit тест - это функция, которая проверяет, что другая функция (или набор функций) выполняется правильно. В go для создания unit тестов используются следюущие шаги:

1. Создаем файл, который заканчивается на `_test.go` (хорошим тоном считается, если название тестируемого файла должно совпадает с названием тестового файла)
1. Создаем в данном файле функцию, название которой начинается с `Test`
1. Прописываем тестовые условия, смотрим на результаты их выполнения

Вот пример файла `main_test.go`:
```go
package main

import (
	"testing"
)

func TestMain(t *testing.T) {
    ...
}

```

---

## Go тесты в VSCode

В VSCode есть специальный плагин, который предоставляет возможность быстрой навигации по тестам, их запуск и проверку.

Что бы открыть данный плагин необходимо нажать на колбу в левой панели (или открыть его через command palette - show testing).

<p align="left">
  <img width="240px" height="240px" src="test.png" alt="logo"/>
</p>


Допустим у нас есть 2 файла:

`file.go`
```go
package main

func sum(a, b int) int {
	return a + b
}

```

`file_test.go`
```go
package main

import "testing"

func TestSum(t *testing.T) {
	if a := sum(1, 10); a != 11 {
		t.Error("sum incorrect")
	}
	if a := sum(2, 7); a != 9 {
		t.Error("sum incorrect")
	}
}
```

Для запуска всех тестов необходимо просто нажать данную кнопку:


<p align="left">
  <img width="240px" height="240px" src="test2.png" alt="logo"/>
</p>
